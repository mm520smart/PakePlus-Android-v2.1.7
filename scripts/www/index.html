<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ¿ å¹²æ”¯çºªå¹´ Â· å›¾å½¢åŒ–è½¬æ¢å™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Serif SC', 'Ma Shan Zheng', 'Segoe UI', 'WenQuanYi Micro Hei', sans-serif;
        }

        body {
            background: linear-gradient(145deg, #f8f3e7 0%, #e8dccc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 700px;
            width: 100%;
            background: #fef9ea;
            background-image: radial-gradient(circle at 10% 30%, rgba(255,240,200,0.3) 0%, transparent 25%),
                              radial-gradient(circle at 90% 70%, rgba(200,180,140,0.1) 0%, transparent 30%);
            border-radius: 64px 64px 48px 48px;
            box-shadow: 0 20px 35px -8px rgba(90, 60, 30, 0.3),
                        inset 0 2px 5px rgba(255, 245, 220, 0.8);
            border: 2px solid #cdb79e;
            padding: 30px 25px;
            transition: all 0.2s ease;
        }

        /* ä»¿å¤å·è½´æŒ‚è½´ */
        .scroll-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
            padding: 0 10px;
        }

        .scroll-end {
            width: 50px;
            height: 45px;
            background: radial-gradient(ellipse at center, #b39a7b 0%, #8b6f4c 90%);
            border-radius: 40% 40% 20% 20% / 60% 60% 30% 30%;
            box-shadow: 0 5px 0 #5e4a33, inset 0 -2px 5px rgba(0,0,0,0.2);
            border: 1px solid #ab8e64;
        }

        .title-section {
            text-align: center;
            position: relative;
        }

        .chinese-title {
            font-size: 2.4rem;
            font-weight: 700;
            color: #4a3729;
            text-shadow: 3px 3px 0 #e6d7b4, 1px 1px 0 #aa8c70;
            letter-spacing: 12px;
            margin-bottom: 5px;
            word-break: keep-all;
        }

        .english-sub {
            color: #7a5b3e;
            background: #ede3d0;
            display: inline-block;
            padding: 6px 20px;
            border-radius: 40px;
            font-size: 0.9rem;
            letter-spacing: 3px;
            border: 1px dashed #aa7a4c;
            backdrop-filter: blur(2px);
        }

        /* å¤©å¹²åœ°æ”¯å±•ç¤ºç¯ â€” å¤ªæåŒé±¼çµæ„Ÿ */
        .cycle-show {
            background: #dac0a1;
            background: linear-gradient(135deg, #ccb396, #b49171);
            margin: 30px 10px 25px;
            padding: 20px 15px;
            border-radius: 120px 120px 60px 60px;
            box-shadow: inset 0 -5px 0 #775e45, inset 0 2px 15px #ffeac2, 0 12px 18px -5px #735e4b;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            border: 2px solid #624c37;
        }

        .stems-box, .branches-box {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            padding: 8px 12px;
            background: #faf1dd;
            border-radius: 50px;
            margin: 5px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }

        .stem-badge {
            background: #e34f33;
            background: linear-gradient(145deg, #c1402b, #e64c2e);
            color: #ffefcf;
            font-size: 1.5rem;
            font-weight: bold;
            width: 55px;
            height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50% 50% 40% 40% / 60% 60% 30% 30%;
            box-shadow: 0 6px 0 #71281c, 0 8px 10px #3f2e22;
            border: 2px solid #ffbe8c;
            text-shadow: 1px 2px 0 #4f1e16;
            transform: rotate(2deg);
            transition: 0.1s ease;
        }

        .branch-badge {
            background: #2f6a4a;
            background: linear-gradient(145deg, #1f543e, #3b7a5e);
            color: #fbffd2;
            font-size: 1.5rem;
            font-weight: bold;
            width: 55px;
            height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 40% 40% 50% 50% / 30% 30% 60% 60%;
            box-shadow: 0 6px 0 #1d362a, 0 8px 10px #2f3d2e;
            border: 2px solid #b4d382;
            text-shadow: 1px 2px 0 #172e1e;
            transform: rotate(-2deg);
        }

        /* è¾“å…¥è¾“å‡ºé¢æ¿ â€” ç‰ç’§é€ å‹ */
        .jade-panel {
            background: #ebdbc2;
            background: linear-gradient(to bottom, #fcf3e0, #ddceb2);
            border-radius: 100px 100px 80px 80px;
            padding: 30px 25px;
            margin: 25px 0 15px;
            box-shadow: inset 0 -6px 0 #aa8b64, inset 0 2px 20px #fffbe6, 0 12px 18px #6b4f38;
            border: 3px solid #a58863;
            position: relative;
        }

        .input-area {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .year-label {
            font-size: 1.7rem;
            color: #452812;
            font-weight: 600;
            text-shadow: 2px 2px 0 #dfc9a6;
        }

        .year-input {
            width: 140px;
            padding: 16px 10px;
            font-size: 2.2rem;
            text-align: center;
            background: #fef7d5;
            border: 5px solid #c6a27a;
            border-radius: 60px 20px 60px 20px;
            color: #3f280e;
            font-weight: 700;
            outline: none;
            box-shadow: inset 0 4px 10px #ac8f70, 0 6px 0 #765a3a;
            transition: 0.08s linear;
            font-family: 'Courier New', monospace;
        }

        .year-input:focus {
            background: #fff1bb;
            border-color: #a86434;
            transform: scale(0.97);
        }

        .convert-btn {
            background: #ca8328;
            background: radial-gradient(circle at 30% 20%, #ffb347, #b3621c);
            border: none;
            border-bottom: 10px solid #6d3f0e;
            color: white;
            font-size: 1.9rem;
            font-weight: bold;
            padding: 12px 35px;
            border-radius: 60px 20px 60px 20px;
            letter-spacing: 12px;
            cursor: pointer;
            box-shadow: 0 9px 0 #4d2e0e, 0 10px 25px black;
            transition: all 0.05s linear;
            text-shadow: 3px 3px 0 #5f2f0a;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .convert-btn:active {
            transform: translateY(8px);
            box-shadow: 0 2px 0 #4d2e0e, 0 10px 25px black;
            border-bottom-width: 4px;
        }

        /* ç»“æœåŒºåŸŸ â€” æ‚¬æŒ‚çš„å·è½´ */
        .result-scroll {
            background: #efe0c9;
            background: linear-gradient(165deg, #fef3db, #ddc7a2);
            border-radius: 20px 20px 60px 60px;
            padding: 20px;
            border: 4px double #9c7e5c;
            box-shadow: inset 0 0 0 2px #ffffee, inset 0 0 0 5px #b29268;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .result-year {
            font-size: 2.2rem;
            background: #935e38;
            color: #fdf5cf;
            padding: 10px 25px;
            border-radius: 40px 10px 40px 10px;
            font-weight: 800;
            margin-right: 20px;
            box-shadow: inset 0 -2px 0 #492c1a, 0 6px 0 #4d301c;
            border: 1px solid #efc48c;
            letter-spacing: 2px;
        }

        .result-ganzhi {
            font-size: 3.5rem;
            font-weight: 900;
            background: #383018;
            background: linear-gradient(145deg, #4d3822, #2d1e13);
            color: #ffdd99;
            padding: 10px 30px;
            border-radius: 20px 60px 20px 60px;
            box-shadow: inset 0 -5px 0 #120c07, 0 9px 0 #22180e;
            text-shadow: 0 0 5px #ffb669, 2px 4px 0 #321f0e;
            letter-spacing: 12px;
            border: 2px solid #ebc17e;
        }

        .footer-note {
            margin-top: 20px;
            text-align: right;
            color: #6d573d;
            font-style: italic;
            padding: 5px 20px;
            border-top: 1px solid #baa07e;
            letter-spacing: 2px;
        }
        .big-emoji {
            font-size: 2rem;
            line-height: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ä»¿å¤è½´å¤´ è£…é¥° -->
        <div class="scroll-header">
            <div class="scroll-end"></div>
            <div class="title-section">
                <div class="chinese-title">å¹²â€¯æ”¯â€¯çºªâ€¯å¹´</div>
                <span class="english-sub">ğŸŒ• STEM & BRANCH</span>
            </div>
            <div class="scroll-end"></div>
        </div>

        <!-- å¤©å¹² / åœ°æ”¯ å°å¾½ç« å±•ç¤º å›¾å½¢åŒ– -->
        <div class="cycle-show">
            <div class="stems-box">
                <span class="stem-badge">ç”²</span>
                <span class="stem-badge">ä¹™</span>
                <span class="stem-badge">ä¸™</span>
                <span class="stem-badge">ä¸</span>
                <span class="stem-badge">æˆŠ</span>
                <span class="stem-badge">å·±</span>
                <span class="stem-badge">åºš</span>
                <span class="stem-badge">è¾›</span>
                <span class="stem-badge">å£¬</span>
                <span class="stem-badge">ç™¸</span>
            </div>
            <span style="font-size:2.5rem; color:#4d2f1b; margin:0 5px; text-shadow:2px 2px 0 #e0be96;">â¿»</span>
            <div class="branches-box">
                <span class="branch-badge">å­</span>
                <span class="branch-badge">ä¸‘</span>
                <span class="branch-badge">å¯…</span>
                <span class="branch-badge">å¯</span>
                <span class="branch-badge">è¾°</span>
                <span class="branch-badge">å·³</span>
                <span class="branch-badge">åˆ</span>
                <span class="branch-badge">æœª</span>
                <span class="branch-badge">ç”³</span>
                <span class="branch-badge">é…‰</span>
                <span class="branch-badge">æˆŒ</span>
                <span class="branch-badge">äº¥</span>
            </div>
        </div>

        <!-- ä¸»äº¤äº’é¢æ¿ -->
        <div class="jade-panel">
            <div class="input-area">
                <span class="year-label">ğŸ“† å…¬å…ƒ</span>
                <input type="number" id="yearInput" class="year-input" value="2026" placeholder="å¹´ä»½">
                <button id="convertBtn" class="convert-btn">
                    <span style="font-size:2rem;">â¡ï¸</span> è½‰
                </button>
            </div>

            <!-- å¹²æ”¯ç»“æœæ˜¾ç¤ºåŒºï¼ŒåŠ¨æ€åˆ·æ–° -->
            <div class="result-scroll">
                <span id="displayYear" class="result-year">2026å¹´</span>
                <span id="displayGanzhi" class="result-ganzhi">ä¸™åˆ</span>
            </div>
            <!-- å°æç¤ºï¼šå¹²æ”¯åŸºæ•° -->
            <div style="text-align:center; margin-top:12px; color:#745e45; background:#e9d6ba; border-radius:30px; padding:6px; font-size:0.9rem; border:1px solid #ad886a;">
                âš¡ ç”²å­ä¸ºå…¬å…ƒ4å¹´ Â· 60å¹´ä¸€å¾ªç¯
            </div>
        </div>

        <div class="footer-note">
            ğŸ‰ å¤©å¹²åœ°æ”¯ Â· å²æœˆæµè½¬
        </div>
    </div>

    <script>
        (function() {
            "use strict";

            // ---------- æ­£å®—å¤©å¹²åœ°æ”¯è¡¨ï¼ˆä¿®æ­£ä¸ºç™¸ï¼‰--------
            const sky = ["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"];
            const ground = ["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"];
            
            // é¢„ç”Ÿæˆ60ä¸ªå¹²æ”¯åç§°ï¼Œç´¢å¼•0å¯¹åº” "ç”²å­" (å…¬å…ƒ4å¹´)
            const year60 = [];
            for (let i = 0; i < 60; i++) {
                year60[i] = sky[i % 10] + ground[i % 12];
            }

            // ---------- DOM å…ƒç´  ----------
            const yearInput = document.getElementById('yearInput');
            const convertBtn = document.getElementById('convertBtn');
            const displayYear = document.getElementById('displayYear');
            const displayGanzhi = document.getElementById('displayGanzhi');

            // ---------- æ ¸å¿ƒè½¬æ¢å‡½æ•° ----------
            function yearToGanzhi(year) {
                // å…¬å…ƒ4å¹´æ˜¯ç”²å­(ç´¢å¼•0), å…¬å¼: (year - 4) % 60, å¤„ç†è´Ÿæ•°å–æ­£æ¨¡
                let index = (year - 4) % 60;
                if (index < 0) index += 60;   // å¤„ç†å…¬å…ƒå‰ï¼ˆè™½ç„¶è¾“å…¥æ­£æ•°ï¼Œä½†é²æ£’ï¼‰
                return year60[index];
            }

            // æ›´æ–°ç•Œé¢
            function updateDisplay() {
                let yearStr = yearInput.value.trim();
                if (yearStr === '') yearStr = '2026';
                let year = Number(yearStr);
                if (isNaN(year) || !Number.isInteger(year)) {
                    // å®¹é”™ï¼šä¸æ˜¯æ•´æ•°å°±é»˜è®¤2026
                    year = 2026;
                    yearInput.value = 2026;
                }
                const ganzhi = yearToGanzhi(year);
                displayYear.innerText = year + 'å¹´';
                displayGanzhi.innerText = ganzhi;
            }

            // ---------- åˆå§‹åŒ– å’Œ ç›‘å¬å™¨ ----------
            window.addEventListener('DOMContentLoaded', function() {
                // é»˜è®¤å±•ç¤º2026å¹´ï¼ˆä¸™åˆï¼‰
                updateDisplay();

                // è½¬æ¢æŒ‰é’®ç‚¹å‡»
                convertBtn.addEventListener('click', function() {
                    updateDisplay();
                });

                // è¾“å…¥æ¡†æ”¯æŒå›è½¦
                yearInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        updateDisplay();
                    }
                });

                // ä¸Šä¸‹ç®­å¤´è°ƒæ•´åè‡ªåŠ¨æ›´æ–° (inputäº‹ä»¶)
                yearInput.addEventListener('input', function() {
                    // é¿å…ç©ºå­—ç¬¦ä¸²æˆ–è€…åŠ å‡å·æ—¶å€™æ˜¾ç¤ºçªå…€ï¼Œä¹Ÿå¯ç›´æ¥æ›´æ–°
                    updateDisplay();
                });
            });

        })();
    </script>
</body>
</html>